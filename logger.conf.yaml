version: 1

disable_existing_loggers: false

formatters:
  default:
    format: "[%(asctime)s | %(levelname)s | %(processName)s | %(name)s] %(message)s"

handlers:
  console:
    level: "INFO"
    class: "logging.StreamHandler"
    formatter: "default"
    stream: "ext://sys.stdout"

  # fileInfo:
  #   class: "logging.handlers.TimedRotatingFileHandler"
  #   level: "INFO"
  #   formatter: "default"
  #   filename: "./logs/fpm_web_info.log"
  #   when: "W0"
  #   backupCount: 0
  #   utc: true
  #   interval: 1

  # fileWarning:
  #   class: "logging.handlers.TimedRotatingFileHandler"
  #   level: "WARNING"
  #   formatter: "default"
  #   filename: "./logs/fpm_web_warn.log"
  #   when: "W0"
  #   backupCount: 0
  #   utc: true
  #   interval: 1

  queueHandler:
    level: "INFO"
    class: "logging.handlers.QueueHandler"
    listener: "src.common.local_logging.listener.AutoStartQueueListener"
    respect_handler_level: true
    queue:
      (): "queue.Queue"
      maxsize: -1
    handlers:
      - "console"
      # - "fileInfo"
      # - "fileWarning"

loggers:
  root:
    level: "INFO"
    handlers:
      # - "console"
      # - "fileInfo"
      # - "fileWarning"
      - "queueHandler"

